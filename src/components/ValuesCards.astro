---
//@ts-nocheck
import coreValuesData from "@data/coreValues.json";
import LayersIcon from "@icons/layers.svg?raw";
import BarsIcon from "@icons/bars.svg?raw";
import GlobeIcon from "@icons/globe.svg?raw";
import GearIcon from "@icons/gear.svg?raw";
import ArrowRight from "@icons/arrow--right.svg?raw";

const iconMap = {
  layers: LayersIcon,
  bars: BarsIcon,
  globe: GlobeIcon,
  gear: GearIcon,
};
---

<div class="values-cards-wrapper">
  <ul class="values-cards">
    {
      coreValuesData.values.map((value) => (
        <li class="value-card">
          <div class="card-content">
            <div class="icon-header">
              {value.icon && iconMap[value.icon] && (
                <div class="icon-wrapper">
                  <span class="icon" set:html={iconMap[value.icon]} />
                </div>
              )}
              <h3>{value.title}</h3>
            </div>
            <div class="card-text">
              <p>{value.description}</p>
              <a href={value.link.url} class="read-more">
                {value.link.text}
                <span class="arrow" set:html={ArrowRight} />
              </a>
            </div>
          </div>
        </li>
      ))
    }
  </ul>
</div>

<style>
  @layer components {
    .values-cards-wrapper {
      container-type: inline-size;
      container-name: valuesCards;
      width: 100%;
    }

    .values-cards {
      display: grid;
      align-items: start;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: var(--flow-md);
      list-style: none;
      margin: 0;
      padding: 0;
    }

    .value-card {
      background-color: var(--secondary-light-grey);
      border: 1px solid var(--border-grey);
      border-radius: var(--radius-md);
      padding: 2.25rem 1.4375rem;
      display: flex;
      flex-direction: column;
      transition:
        transform var(--transition-fast),
        box-shadow var(--transition-fast);

      &:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
      }
    }

    .card-content {
      display: flex;
      flex-direction: column;
      gap: var(--flow-md);
      height: 100%;
    }

    .icon-header {
      display: flex;
      flex-direction: column;
      gap: 1.375rem;
    }

    .icon-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      width: var(--icon-size-xl);
      height: var(--icon-size-xl);
      background-color: var(--primary-black);
      border-radius: 50%;
      flex-shrink: 0;
    }

    .icon {
      width: 26px;
      height: 26px;
      display: inline-block;
      color: var(--secondary-white);

      :global(svg) {
        width: 100%;
        height: 100%;
        filter: brightness(0) invert(1);
      }
    }

    h3 {
      font-size: var(--card-h3);
      font-weight: 600;
      line-height: 1.16;
      color: var(--primary-black);
      margin: 0;
    }

    .card-text {
      display: flex;
      flex-direction: column;
      gap: 1.375rem;
    }

    p {
      font-size: var(--p);
      line-height: 1.475;
      color: var(--text-grey);
      text-wrap: pretty;
      margin: 0;
    }

    .read-more {
      display: inline-flex;
      align-items: center;
      gap: 0.625rem;
      font-size: var(--card-a);
      font-weight: 600;
      color: var(--primary-black);
      text-decoration: none;
      margin-top: auto;
      width: fit-content;
      line-height: 1.6;
      transition: gap var(--transition-fast);

      &:hover {
        gap: 1rem;

        .arrow :global(svg) {
          transform: translateX(4px);
        }
      }
    }

    .arrow {
      width: 13px;
      height: 11px;
      display: inline-flex;
      align-items: center;
      justify-content: center;

      :global(svg) {
        width: 100%;
        height: 100%;
        transition: transform var(--transition-fast);
      }
    }

    @container valuesCards (width > 1200px) {
      .values-cards {
        grid-template-columns: repeat(4, 1fr);
        gap: 2.25rem;
      }

      .value-card {
        padding: 2.25rem 1.4375rem;
      }
    }
  }
</style>
